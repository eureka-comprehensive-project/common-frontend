<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>요금제 관리 - 요기U+</title>
    <link rel="stylesheet" href="../../css/plan.css" />
</head>
<body>
    <!-- 사이드바 -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="/image/sidebar_logo.svg" alt="요기U+" class="sidebar-logo" />
        </div>
        <div class="sidebar-content">
            <div class="sidebar-item active" onclick="goToChatbot()">
                <div class="chat-icon">💬</div>
                챗봇
            </div>
            <div class="sidebar-profile" onclick="openProfilePopup()">
                <div class="profile-avatar" id="userAvatar">👤</div>
                <div class="profile-text" id="userInfo">사용자님</div>
            </div>
        </div>
    </div>

    <!-- 메인 컨텐츠 -->
    <div class="main-content">
        <!-- 메인 컨테이너 -->
        <div class="container">
            <!-- 페이지 헤더 -->
            <div class="page-header">
                <h1>요금제 찾기</h1>
                <p>나에게 맞는 완벽한 요금제를 찾아보세요</p>
            </div>

            <!-- 탭 네비게이션 -->
            <div class="tab-navigation">
                <div class="tabs">
                    <div class="tab active" onclick="switchTab(this, 'all')">전체</div>
                    <div class="tab" onclick="switchTab(this, 'premium')">프리미엄</div>
                    <div class="tab" onclick="switchTab(this, 'youth')">유스</div>
                    <div class="tab" onclick="switchTab(this, 'senior')">시니어</div>
                    <div class="tab" onclick="switchTab(this, 'nugget')">너겟</div>
                    <div class="tab" onclick="switchTab(this, 'teen')">청소년</div>
                    <div class="tab" onclick="switchTab(this, 'welfare')">복지</div>
                </div>
            </div>

            <!-- 필터 섹션 -->
            <div class="filter-section">
                <div class="filter-left">
                    <button class="filter-btn" onclick="openFilterPopup()">
                        <span>🔍</span>
                        필터
                    </button>
                    <div class="selected-filters" id="selectedFilters">
                        <!-- 선택된 필터들이 여기에 표시됩니다 -->
                    </div>
                </div>
            </div>

            <!-- 요금제 카드들 -->
            <div class="pricing-cards">
                <!-- API에서 로드된 요금제들이 여기에 표시됩니다 -->
                <div class="loading-state">
                    <div class="loading-icon">⏳</div>
                    <p>요금제 정보를 불러오는 중...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 필터 팝업 -->
    <div class="filter-popup" id="filterPopup">
        <div class="popup-content">
            <div class="popup-header">
                <div class="popup-title">어떤 요금제를 찾으세요?</div>
                <button class="close-btn" onclick="closeFilterPopup()">&times;</button>
            </div>
            <div class="popup-body">
                <!-- 요금제별 필터 -->
                <div class="filter-section-popup">
                    <div class="filter-section-title">요금제별</div>
                    <div class="filter-tags">
                        <div class="filter-tag" onclick="toggleTag(this)">프리미엄</div>
                        <div class="filter-tag" onclick="toggleTag(this)">유스</div>
                        <div class="filter-tag" onclick="toggleTag(this)">시니어</div>
                        <div class="filter-tag" onclick="toggleTag(this)">너겟</div>
                        <div class="filter-tag" onclick="toggleTag(this)">청소년</div>
                        <div class="filter-tag" onclick="toggleTag(this)">복지</div>
                        <div class="filter-tag selected" onclick="toggleTag(this)">전체</div>
                    </div>
                </div>

                <!-- 요금범위 필터 -->
                <div class="filter-section-popup">
                    <div class="filter-section-title">요금범위</div>
                    <div class="filter-tags">
                        <div class="filter-tag" onclick="toggleTag(this)">~5만원대</div>
                        <div class="filter-tag" onclick="toggleTag(this)">6~8만원대</div>
                        <div class="filter-tag" onclick="toggleTag(this)">9만원대~</div>
                        <div class="filter-tag selected" onclick="toggleTag(this)">상관없어요</div>
                    </div>
                </div>

                <!-- 데이터 필터 -->
                <div class="filter-section-popup">
                    <div class="filter-section-title">데이터</div>
                    <div class="filter-tags">
                        <div class="filter-tag" onclick="toggleTag(this)">무제한</div>
                        <div class="filter-tag" onclick="toggleTag(this)">대용량</div>
                        <div class="filter-tag" onclick="toggleTag(this)">소용량</div>
                        <div class="filter-tag selected" onclick="toggleTag(this)">상관없어요</div>
                    </div>
                </div>

                <!-- 혜택 필터 -->
                <div class="filter-section-popup">
                    <div class="filter-section-title">혜택</div>
                    <div class="filter-brands">
                        <!-- JavaScript로 동적 생성 -->
                    </div>
                </div>
            </div>
            <div class="popup-footer">
                <button class="apply-btn" onclick="applyFilter()">요금제 찾기</button>
            </div>
        </div>
    </div>

    <!-- 프로필 팝업 -->
    <div class="profile-popup" id="profilePopup">
        <div class="profile-popup-content">
            <div class="profile-popup-body">
                <div class="profile-menu-item" onclick="goToMyPage()">
                    <span>👤</span>
                    마이페이지
                </div>
                <div class="profile-menu-item logout" onclick="confirmLogout()">
                    <span>🚪</span>
                    로그아웃
                </div>
            </div>
        </div>
    </div>
    <script src="../../js/plan.js"></script>
</body>
</html>